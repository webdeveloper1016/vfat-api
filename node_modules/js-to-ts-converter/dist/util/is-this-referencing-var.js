"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isThisReferencingVar = void 0;
const ts_morph_1 = require("ts-morph");
/**
 * Determines if the given AST Node is a VariableDeclaration of the form:
 *
 *     var self = this;
 *
 *
 * Will return false for the following, however, since this is a destructuring
 * of the `this` object's properties.
 *
 *     var { prop1, prop2 } = this;
 */
function isThisReferencingVar(node) {
    if (!ts_morph_1.TypeGuards.isVariableDeclaration(node)) {
        return false;
    }
    const varDec = node;
    const initializerIsThisKeyword = !!varDec.getInitializerIfKind(ts_morph_1.SyntaxKind.ThisKeyword);
    const assignedToSingleIdentifier = varDec.compilerNode.name.kind === ts_morph_1.SyntaxKind.Identifier;
    return initializerIsThisKeyword && assignedToSingleIdentifier;
}
exports.isThisReferencingVar = isThisReferencingVar;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtdGhpcy1yZWZlcmVuY2luZy12YXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbC9pcy10aGlzLXJlZmVyZW5jaW5nLXZhci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBNkU7QUFFN0U7Ozs7Ozs7Ozs7R0FVRztBQUNILFNBQWdCLG9CQUFvQixDQUFFLElBQVU7SUFDL0MsSUFBSSxDQUFDLHFCQUFVLENBQUMscUJBQXFCLENBQUUsSUFBSSxDQUFFLEVBQUc7UUFDL0MsT0FBTyxLQUFLLENBQUM7S0FDYjtJQUVELE1BQU0sTUFBTSxHQUFHLElBQTJCLENBQUM7SUFFM0MsTUFBTSx3QkFBd0IsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFFLHFCQUFVLENBQUMsV0FBVyxDQUFFLENBQUM7SUFDekYsTUFBTSwwQkFBMEIsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUsscUJBQVUsQ0FBQyxVQUFVLENBQUM7SUFFM0YsT0FBTyx3QkFBd0IsSUFBSSwwQkFBMEIsQ0FBQztBQUMvRCxDQUFDO0FBWEQsb0RBV0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlLCBTeW50YXhLaW5kLCBUeXBlR3VhcmRzLCBWYXJpYWJsZURlY2xhcmF0aW9uIH0gZnJvbSBcInRzLW1vcnBoXCI7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gQVNUIE5vZGUgaXMgYSBWYXJpYWJsZURlY2xhcmF0aW9uIG9mIHRoZSBmb3JtOlxuICpcbiAqICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gKlxuICpcbiAqIFdpbGwgcmV0dXJuIGZhbHNlIGZvciB0aGUgZm9sbG93aW5nLCBob3dldmVyLCBzaW5jZSB0aGlzIGlzIGEgZGVzdHJ1Y3R1cmluZ1xuICogb2YgdGhlIGB0aGlzYCBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICpcbiAqICAgICB2YXIgeyBwcm9wMSwgcHJvcDIgfSA9IHRoaXM7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RoaXNSZWZlcmVuY2luZ1Zhciggbm9kZTogTm9kZSApOiBub2RlIGlzIFZhcmlhYmxlRGVjbGFyYXRpb24ge1xuXHRpZiggIVR5cGVHdWFyZHMuaXNWYXJpYWJsZURlY2xhcmF0aW9uKCBub2RlICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Y29uc3QgdmFyRGVjID0gbm9kZSBhcyBWYXJpYWJsZURlY2xhcmF0aW9uO1xuXG5cdGNvbnN0IGluaXRpYWxpemVySXNUaGlzS2V5d29yZCA9ICEhdmFyRGVjLmdldEluaXRpYWxpemVySWZLaW5kKCBTeW50YXhLaW5kLlRoaXNLZXl3b3JkICk7XG5cdGNvbnN0IGFzc2lnbmVkVG9TaW5nbGVJZGVudGlmaWVyID0gdmFyRGVjLmNvbXBpbGVyTm9kZS5uYW1lLmtpbmQgPT09IFN5bnRheEtpbmQuSWRlbnRpZmllcjtcblxuXHRyZXR1cm4gaW5pdGlhbGl6ZXJJc1RoaXNLZXl3b3JkICYmIGFzc2lnbmVkVG9TaW5nbGVJZGVudGlmaWVyO1xufSJdfQ==