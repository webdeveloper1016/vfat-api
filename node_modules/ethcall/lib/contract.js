"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Contract = /** @class */ (function () {
    function Contract(address, abi) {
        this.address = address;
        this.abi = abi;
        this.functions = abi.filter(function (x) { return x.type === 'function'; });
        var callFunctions = this.functions.filter(function (x) { return x.stateMutability === 'pure' || x.stateMutability === 'view'; });
        for (var _i = 0, callFunctions_1 = callFunctions; _i < callFunctions_1.length; _i++) {
            var callFunction = callFunctions_1[_i];
            var name_1 = callFunction.name;
            if (!name_1) {
                continue;
            }
            var getCall = makeCallFunction(this, name_1);
            if (!this[name_1]) {
                Object.defineProperty(this, name_1, {
                    enumerable: true,
                    value: getCall,
                    writable: false,
                });
            }
        }
    }
    return Contract;
}());
exports.default = Contract;
function makeCallFunction(contract, name) {
    return function () {
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        var address = contract.address;
        var func = contract.functions.find(function (f) { return f.name === name; });
        var inputs = (func === null || func === void 0 ? void 0 : func.inputs) || [];
        var outputs = (func === null || func === void 0 ? void 0 : func.outputs) || [];
        return {
            contract: {
                address: address,
            },
            name: name,
            inputs: inputs,
            outputs: outputs,
            params: params,
        };
    };
}
